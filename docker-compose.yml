version: '3.8'

services:
  fourensic:
    build: .
    container_name: fourensic-app
    ports:
      - "3000:3000"
    volumes:
      # Mount source files for real-time UI updates (development)
      - .:/usr/src/app
      # Exclude node_modules from being overwritten by the host
      - /usr/src/app/node_modules
      # Persist configuration and logs
      - ./current.json:/usr/src/app/current.json
      - ./lock.json:/usr/src/app/lock.json
      - ./name.csv:/usr/src/app/name.csv
      - ./cache:/usr/src/app/cache
      - ./logs:/usr/src/app/logs
    restart: unless-stopped
